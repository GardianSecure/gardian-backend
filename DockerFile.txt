# âœ… Base image with ZAP preinstalled
FROM owasp/zap2docker-stable

# Set working directory for your backend
WORKDIR /app

# Copy backend dependencies
COPY package*.json ./
RUN npm install --only=production

# Copy backend code
COPY . .

# Copy startup script
COPY start.sh .
RUN chmod +x start.sh

# Expose ports
EXPOSE 8080   # ZAP API
EXPOSE 3000   # Node backend

# Run startup script
CMD ["./start.sh"]
